var mt=Object.defineProperty;var et=i=>{throw TypeError(i)};var pt=(i,t,n)=>t in i?mt(i,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[t]=n;var S=(i,t,n)=>pt(i,typeof t!="symbol"?t+"":t,n),V=(i,t,n)=>t.has(i)||et("Cannot "+n);var K=(i,t,n)=>(V(i,t,"read from private field"),n?n.call(i):t.get(i)),Q=(i,t,n)=>t.has(i)?et("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,n),rt=(i,t,n,l)=>(V(i,t,"write to private field"),l?l.call(i,n):t.set(i,n),n),nt=(i,t,n)=>(V(i,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))l(h);new MutationObserver(h=>{for(const $ of h)if($.type==="childList")for(const O of $.addedNodes)O.tagName==="LINK"&&O.rel==="modulepreload"&&l(O)}).observe(document,{childList:!0,subtree:!0});function n(h){const $={};return h.integrity&&($.integrity=h.integrity),h.referrerPolicy&&($.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?$.credentials="include":h.crossOrigin==="anonymous"?$.credentials="omit":$.credentials="same-origin",$}function l(h){if(h.ep)return;h.ep=!0;const $=n(h);fetch(h.href,$)}})();function $t(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var E={exports:{}},gt=E.exports,st;function vt(){return st||(st=1,function(i,t){(function(n,l){i.exports=l()})(gt,function(){var n=1e3,l=6e4,h=36e5,$="millisecond",O="second",_="minute",x="hour",D="day",Y="week",w="month",B="quarter",C="year",T="date",G="Invalid Date",ft=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,ht=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,lt={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(o){var s=["th","st","nd","rd"],e=o%100;return"["+o+(s[(e-20)%10]||s[e]||s[0])+"]"}},U=function(o,s,e){var a=String(o);return!a||a.length>=s?o:""+Array(s+1-a.length).join(e)+o},yt={s:U,z:function(o){var s=-o.utcOffset(),e=Math.abs(s),a=Math.floor(e/60),r=e%60;return(s<=0?"+":"-")+U(a,2,"0")+":"+U(r,2,"0")},m:function o(s,e){if(s.date()<e.date())return-o(e,s);var a=12*(e.year()-s.year())+(e.month()-s.month()),r=s.clone().add(a,w),u=e-r<0,c=s.clone().add(a+(u?-1:1),w);return+(-(a+(e-r)/(u?r-c:c-r))||0)},a:function(o){return o<0?Math.ceil(o)||0:Math.floor(o)},p:function(o){return{M:w,y:C,w:Y,d:D,D:T,h:x,m:_,s:O,ms:$,Q:B}[o]||String(o||"").toLowerCase().replace(/s$/,"")},u:function(o){return o===void 0}},q="en",b={};b[q]=lt;var X="$isDayjsObject",Z=function(o){return o instanceof F||!(!o||!o[X])},W=function o(s,e,a){var r;if(!s)return q;if(typeof s=="string"){var u=s.toLowerCase();b[u]&&(r=u),e&&(b[u]=e,r=u);var c=s.split("-");if(!r&&c.length>1)return o(c[0])}else{var f=s.name;b[f]=s,r=f}return!a&&r&&(q=r),r||!a&&q},m=function(o,s){if(Z(o))return o.clone();var e=typeof s=="object"?s:{};return e.date=o,e.args=arguments,new F(e)},d=yt;d.l=W,d.i=Z,d.w=function(o,s){return m(o,{locale:s.$L,utc:s.$u,x:s.$x,$offset:s.$offset})};var F=function(){function o(e){this.$L=W(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[X]=!0}var s=o.prototype;return s.parse=function(e){this.$d=function(a){var r=a.date,u=a.utc;if(r===null)return new Date(NaN);if(d.u(r))return new Date;if(r instanceof Date)return new Date(r);if(typeof r=="string"&&!/Z$/i.test(r)){var c=r.match(ft);if(c){var f=c[2]-1||0,y=(c[7]||"0").substring(0,3);return u?new Date(Date.UTC(c[1],f,c[3]||1,c[4]||0,c[5]||0,c[6]||0,y)):new Date(c[1],f,c[3]||1,c[4]||0,c[5]||0,c[6]||0,y)}}return new Date(r)}(e),this.init()},s.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},s.$utils=function(){return d},s.isValid=function(){return this.$d.toString()!==G},s.isSame=function(e,a){var r=m(e);return this.startOf(a)<=r&&r<=this.endOf(a)},s.isAfter=function(e,a){return m(e)<this.startOf(a)},s.isBefore=function(e,a){return this.endOf(a)<m(e)},s.$g=function(e,a,r){return d.u(e)?this[a]:this.set(r,e)},s.unix=function(){return Math.floor(this.valueOf()/1e3)},s.valueOf=function(){return this.$d.getTime()},s.startOf=function(e,a){var r=this,u=!!d.u(a)||a,c=d.p(e),f=function(L,v){var I=d.w(r.$u?Date.UTC(r.$y,v,L):new Date(r.$y,v,L),r);return u?I:I.endOf(D)},y=function(L,v){return d.w(r.toDate()[L].apply(r.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(v)),r)},p=this.$W,g=this.$M,M=this.$D,H="set"+(this.$u?"UTC":"");switch(c){case C:return u?f(1,0):f(31,11);case w:return u?f(1,g):f(0,g+1);case Y:var k=this.$locale().weekStart||0,N=(p<k?p+7:p)-k;return f(u?M-N:M+(6-N),g);case D:case T:return y(H+"Hours",0);case x:return y(H+"Minutes",1);case _:return y(H+"Seconds",2);case O:return y(H+"Milliseconds",3);default:return this.clone()}},s.endOf=function(e){return this.startOf(e,!1)},s.$set=function(e,a){var r,u=d.p(e),c="set"+(this.$u?"UTC":""),f=(r={},r[D]=c+"Date",r[T]=c+"Date",r[w]=c+"Month",r[C]=c+"FullYear",r[x]=c+"Hours",r[_]=c+"Minutes",r[O]=c+"Seconds",r[$]=c+"Milliseconds",r)[u],y=u===D?this.$D+(a-this.$W):a;if(u===w||u===C){var p=this.clone().set(T,1);p.$d[f](y),p.init(),this.$d=p.set(T,Math.min(this.$D,p.daysInMonth())).$d}else f&&this.$d[f](y);return this.init(),this},s.set=function(e,a){return this.clone().$set(e,a)},s.get=function(e){return this[d.p(e)]()},s.add=function(e,a){var r,u=this;e=Number(e);var c=d.p(a),f=function(g){var M=m(u);return d.w(M.date(M.date()+Math.round(g*e)),u)};if(c===w)return this.set(w,this.$M+e);if(c===C)return this.set(C,this.$y+e);if(c===D)return f(1);if(c===Y)return f(7);var y=(r={},r[_]=l,r[x]=h,r[O]=n,r)[c]||1,p=this.$d.getTime()+e*y;return d.w(p,this)},s.subtract=function(e,a){return this.add(-1*e,a)},s.format=function(e){var a=this,r=this.$locale();if(!this.isValid())return r.invalidDate||G;var u=e||"YYYY-MM-DDTHH:mm:ssZ",c=d.z(this),f=this.$H,y=this.$m,p=this.$M,g=r.weekdays,M=r.months,H=r.meridiem,k=function(v,I,P,A){return v&&(v[I]||v(a,u))||P[I].slice(0,A)},N=function(v){return d.s(f%12||12,v,"0")},L=H||function(v,I,P){var A=v<12?"AM":"PM";return P?A.toLowerCase():A};return u.replace(ht,function(v,I){return I||function(P){switch(P){case"YY":return String(a.$y).slice(-2);case"YYYY":return d.s(a.$y,4,"0");case"M":return p+1;case"MM":return d.s(p+1,2,"0");case"MMM":return k(r.monthsShort,p,M,3);case"MMMM":return k(M,p);case"D":return a.$D;case"DD":return d.s(a.$D,2,"0");case"d":return String(a.$W);case"dd":return k(r.weekdaysMin,a.$W,g,2);case"ddd":return k(r.weekdaysShort,a.$W,g,3);case"dddd":return g[a.$W];case"H":return String(f);case"HH":return d.s(f,2,"0");case"h":return N(1);case"hh":return N(2);case"a":return L(f,y,!0);case"A":return L(f,y,!1);case"m":return String(y);case"mm":return d.s(y,2,"0");case"s":return String(a.$s);case"ss":return d.s(a.$s,2,"0");case"SSS":return d.s(a.$ms,3,"0");case"Z":return c}return null}(v)||c.replace(":","")})},s.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},s.diff=function(e,a,r){var u,c=this,f=d.p(a),y=m(e),p=(y.utcOffset()-this.utcOffset())*l,g=this-y,M=function(){return d.m(c,y)};switch(f){case C:u=M()/12;break;case w:u=M();break;case B:u=M()/3;break;case Y:u=(g-p)/6048e5;break;case D:u=(g-p)/864e5;break;case x:u=g/h;break;case _:u=g/l;break;case O:u=g/n;break;default:u=g}return r?u:d.a(u)},s.daysInMonth=function(){return this.endOf(w).$D},s.$locale=function(){return b[this.$L]},s.locale=function(e,a){if(!e)return this.$L;var r=this.clone(),u=W(e,a,!0);return u&&(r.$L=u),r},s.clone=function(){return d.w(this.$d,this)},s.toDate=function(){return new Date(this.valueOf())},s.toJSON=function(){return this.isValid()?this.toISOString():null},s.toISOString=function(){return this.$d.toISOString()},s.toString=function(){return this.$d.toUTCString()},o}(),tt=F.prototype;return m.prototype=tt,[["$ms",$],["$s",O],["$m",_],["$H",x],["$W",D],["$M",w],["$y",C],["$D",T]].forEach(function(o){tt[o[1]]=function(s){return this.$g(s,o[0],o[1])}}),m.extend=function(o,s){return o.$i||(o(s,F,m),o.$i=!0),m},m.locale=W,m.isDayjs=Z,m.unix=function(o){return m(1e3*o)},m.en=b[q],m.Ls=b,m.p={},m})}(E)),E.exports}var Mt=vt();const St=$t(Mt),it=[{id:"1",deliveryDays:7,priceCents:0},{id:"2",deliveryDays:3,priceCents:499},{id:"3",deliveryDays:1,priceCents:999}],wt=["1","2","3"];function bt(i){return it.find(n=>n.id===i)||it[0]}function kt(i){let t=St(),n=i.deliveryDays;for(;n>0;)t=t.add(1,"day"),Ot(t)||n--;return t.format("dddd, MMMM D")}function Ot(i){const t=i.format("dddd");return t==="Saturday"||t==="Sunday"}var j,z,at;class Dt{constructor(t){Q(this,z);S(this,"cartItems",[]);Q(this,j);rt(this,j,t),nt(this,z,at).call(this)}saveCartToStorage(){localStorage.setItem(K(this,j),JSON.stringify(this.cartItems))}addToCart(t){const n=document.querySelector(`.js-quantity-selector-${t}`),l=n?Number(n.value):1,h=this.cartItems.find($=>$.productId===t);h?h.quantity+=l:this.cartItems.push({productId:t,quantity:l,deliveryOptionId:"1"}),this.saveCartToStorage()}removeFromCart(t){const n=this.cartItems.filter(l=>l.productId!==t);this.cartItems=n,this.saveCartToStorage()}updateDeliveryOption(t,n){const l=this.cartItems.find(h=>h.productId===t);if(l){if(!wt.includes(n)){console.error(`Not a valid deliveryOptionId: ${n}`);return}}else{console.error(`No Cart Product found with productID: ${t}`);return}l.deliveryOptionId=n,this.saveCartToStorage()}updateQuantity(t,n){const l=this.cartItems.find(h=>h.productId===t);l?l.quantity=n:this.cartItems.push({productId:t,quantity:n,deliveryOptionId:"1"}),this.saveCartToStorage()}calculateCartQuantity(){return this.cartItems.reduce((t,n)=>t+n.quantity,0)}}j=new WeakMap,z=new WeakSet,at=function(){this.cartItems=JSON.parse(localStorage.getItem(K(this,j))||JSON.stringify(null)),this.cartItems||(this.cartItems=[{productId:"e43638ce-6aa0-4b85-b27f-e1d07eb678c6",quantity:2,deliveryOptionId:"1"},{productId:"15b6fc6f-327a-4ec4-896f-486349e85a3d",quantity:1,deliveryOptionId:"2"}],this.saveCartToStorage())};const Lt=new Dt("cart");async function _t(){const t=await(await fetch("https://supersimplebackend.dev/cart")).text();return console.log(t),t}function Ct(i){return(Math.round(i)/100).toFixed(2)}function ot(i){return i.type==="clothing"}function ut(i){return i.type==="appliance"}function xt(i){const t=R.find(n=>n.id===i);return t||console.error(`No product found with productId: ${i}`),t}class J{constructor(t){S(this,"id");S(this,"image");S(this,"name");S(this,"rating");S(this,"priceCents");S(this,"keywords");S(this,"type");this.id=t.id,this.image=t.image,this.name=t.name,this.rating=t.rating,this.priceCents=t.priceCents,this.keywords=t.keywords,this.type=t.type}getStarsUrl(){return`images/ratings/rating-${this.rating.stars*10}.png`}getPrice(){return`$${Ct(this.priceCents)}`}extraInfoHTML(){return""}}class ct extends J{constructor(n){super(n);S(this,"sizeChartLink");this.sizeChartLink=n.sizeChartLink}extraInfoHTML(){return`
      <a href="${this.sizeChartLink}" target="_blank">
        Size chart
      </a>
    `}}class dt extends J{constructor(n){super(n);S(this,"instructionsLink");S(this,"warrantyLink");this.instructionsLink=n.instructionsLink,this.warrantyLink=n.warrantyLink}extraInfoHTML(){return`
      <a href="${this.instructionsLink}" target="_blank">
        Instructions
      </a> 
      <a href="${this.warrantyLink}" target="_blank">
        Warranty
      </a> 
    `}}let R=[];function Tt(){return fetch("https://supersimplebackend.dev/products").then(t=>t.json()).then(t=>{R=t.map(n=>ot(n)?new ct(n):ut(n)?new dt(n):new J(n)),console.log("load products...")}).catch(t=>{console.log("Unexpected error. Please try again later.")})}function Ht(i){const t=new XMLHttpRequest;t.addEventListener("load",()=>{R=JSON.parse(t.response).map(n=>ot(n)?new ct(n):ut(n)?new dt(n):new J(n)),console.log("load products..."),i()}),t.addEventListener("error",n=>{console.log("Unexpected error. Please try again later.")}),t.open("GET","https://supersimplebackend.dev/products"),t.send()}function jt(i){const t=document.querySelector(i);if(!t)throw new Error(`HTML Element with selector '${i}' not found`);return t}export{xt as a,bt as b,Lt as c,kt as d,it as e,Ct as f,jt as g,Tt as h,_t as i,St as j,Ht as l,R as p,wt as v};
